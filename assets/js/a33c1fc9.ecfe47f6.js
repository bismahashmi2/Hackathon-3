"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[1896],{4198(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"textbook/modules/introduction-physical-ai/labs/lab-01-01","title":"Setting Up Your MuJoCo Environment","description":"Objectives","source":"@site/docs/textbook/modules/01-introduction-physical-ai/labs/lab-01-01.md","sourceDirName":"textbook/modules/01-introduction-physical-ai/labs","slug":"/textbook/modules/introduction-physical-ai/labs/lab-01-01","permalink":"/Hackathon-3/docs/textbook/modules/introduction-physical-ai/labs/lab-01-01","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/textbook/modules/01-introduction-physical-ai/labs/lab-01-01.md","tags":[],"version":"current","frontMatter":{"id":"lab-01-01","module_id":"01","title":"Setting Up Your MuJoCo Environment","difficulty":"guided","tier":"simulation","duration_minutes":45,"submission_format":"notebook","auto_gradable":true},"sidebar":"tutorialSidebar","previous":{"title":"Ethics: Foundations of Responsible Physical AI Development","permalink":"/Hackathon-3/docs/textbook/modules/introduction-physical-ai/ethics"},"next":{"title":"Exploring the Humanoid Model","permalink":"/Hackathon-3/docs/textbook/modules/introduction-physical-ai/labs/lab-01-02"}}');var o=i(4848),s=i(8453);const l={id:"lab-01-01",module_id:"01",title:"Setting Up Your MuJoCo Environment",difficulty:"guided",tier:"simulation",duration_minutes:45,submission_format:"notebook",auto_gradable:!0},r="Lab 01-01: Setting Up Your MuJoCo Environment",d={},a=[{value:"Objectives",id:"objectives",level:2},{value:"Materials",id:"materials",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Instructions",id:"instructions",level:2},{value:"Step 1: Install MuJoCo",id:"step-1-install-mujoco",level:3},{value:"Step 2: Load Your First Model",id:"step-2-load-your-first-model",level:3},{value:"Step 3: Understand the Simulation Loop",id:"step-3-understand-the-simulation-loop",level:3},{value:"Step 4: Visualize the Simulation",id:"step-4-visualize-the-simulation",level:3},{value:"Step 5: Apply Control Inputs",id:"step-5-apply-control-inputs",level:3},{value:"Expected Outcomes",id:"expected-outcomes",level:2},{value:"Rubric",id:"rubric",level:2},{value:"Extensions",id:"extensions",level:2},{value:"Common Errors",id:"common-errors",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"lab-01-01-setting-up-your-mujoco-environment",children:"Lab 01-01: Setting Up Your MuJoCo Environment"})}),"\n",(0,o.jsx)(n.h2,{id:"objectives",children:"Objectives"}),"\n",(0,o.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Install MuJoCo and verify the installation"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Load and visualize a simple robot model"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Understand the MuJoCo simulation loop"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Run your first physics simulation"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"materials",children:"Materials"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Type"}),(0,o.jsx)(n.th,{children:"Name"}),(0,o.jsx)(n.th,{children:"Version"}),(0,o.jsx)(n.th,{children:"Tier"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"software"}),(0,o.jsx)(n.td,{children:"Python"}),(0,o.jsx)(n.td,{children:"3.10+"}),(0,o.jsx)(n.td,{children:"required"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"software"}),(0,o.jsx)(n.td,{children:"MuJoCo"}),(0,o.jsx)(n.td,{children:"3.0+"}),(0,o.jsx)(n.td,{children:"required"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"software"}),(0,o.jsx)(n.td,{children:"NumPy"}),(0,o.jsx)(n.td,{children:"1.24+"}),(0,o.jsx)(n.td,{children:"required"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"data"}),(0,o.jsx)(n.td,{children:"humanoid.xml"}),(0,o.jsx)(n.td,{children:"included"}),(0,o.jsx)(n.td,{children:"required"})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Basic Python programming knowledge"}),"\n",(0,o.jsx)(n.li,{children:"Familiarity with command line operations"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"instructions",children:"Instructions"}),"\n",(0,o.jsx)(n.h3,{id:"step-1-install-mujoco",children:"Step 1: Install MuJoCo"}),"\n",(0,o.jsx)(n.p,{children:"MuJoCo is now free and open-source. Install it using pip:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# In your terminal or Jupyter notebook\n!pip install mujoco\n"})}),"\n",(0,o.jsxs)("checkpoint",{children:[(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Verification"}),": Run the following to verify installation:"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'import mujoco\nprint(f"MuJoCo version: {mujoco.__version__}")\n'})}),(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Expected"}),": Version 3.0.0 or higher displayed without errors."]})]}),"\n",(0,o.jsx)(n.h3,{id:"step-2-load-your-first-model",children:"Step 2: Load Your First Model"}),"\n",(0,o.jsx)(n.p,{children:"MuJoCo uses XML files to define robot models. Let's load the built-in humanoid:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'import mujoco\nimport numpy as np\n\n# Load the humanoid model (built into MuJoCo)\nmodel = mujoco.MjModel.from_xml_path(\n    mujoco.util.get_resource_path("humanoid/humanoid.xml")\n)\ndata = mujoco.MjData(model)\n\n# Examine model properties\nprint(f"Number of bodies: {model.nbody}")\nprint(f"Number of joints: {model.njnt}")\nprint(f"Number of actuators: {model.nu}")\nprint(f"Degrees of freedom: {model.nv}")\n'})}),"\n",(0,o.jsxs)("checkpoint",{children:[(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Verification"}),": You should see output similar to:"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Number of bodies: 14\nNumber of joints: 18\nNumber of actuators: 21\nDegrees of freedom: 27\n"})}),(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Troubleshooting"}),": If you get a file not found error, ensure MuJoCo is properly installed."]})]}),"\n",(0,o.jsx)(n.h3,{id:"step-3-understand-the-simulation-loop",children:"Step 3: Understand the Simulation Loop"}),"\n",(0,o.jsx)(n.p,{children:"MuJoCo simulations advance through discrete timesteps:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'# Get simulation parameters\nprint(f"Timestep: {model.opt.timestep} seconds")\nprint(f"Simulation will run at {1/model.opt.timestep:.0f} Hz")\n\n# Reset simulation to initial state\nmujoco.mj_resetData(model, data)\n\n# Run simulation for 1 second\nsimulation_time = 1.0\nsteps = int(simulation_time / model.opt.timestep)\n\nfor i in range(steps):\n    # Step the simulation forward\n    mujoco.mj_step(model, data)\n\n```python\n```python\n    if i % 100 == 0:\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'        print(f"Time: {data.time:.3f}s, Height: {data.qpos[2]:.3f}m")\n'})}),"\n",(0,o.jsx)("checkpoint",{children:(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Verification"}),": The humanoid should fall under gravity. Height should decrease from ~1.3m toward 0.\n",(0,o.jsx)(n.strong,{children:"Expected"}),": You see the height decreasing as simulation time increases."]})}),"\n",(0,o.jsx)(n.h3,{id:"step-4-visualize-the-simulation",children:"Step 4: Visualize the Simulation"}),"\n",(0,o.jsx)(n.p,{children:"Launch the interactive viewer to see your robot:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"import mujoco.viewer\n\n# Launch passive viewer (non-blocking)\nwith mujoco.viewer.launch_passive(model, data) as viewer:\n    # Run simulation with visualization\n    while viewer.is_running():\n        mujoco.mj_step(model, data)\n        viewer.sync()\n"})}),"\n",(0,o.jsx)("checkpoint",{children:(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Verification"}),": A window should open showing the humanoid model.\n",(0,o.jsx)(n.strong,{children:"Expected"}),": You can rotate the view with mouse, see the robot fall, and close the window."]})}),"\n",(0,o.jsx)(n.h3,{id:"step-5-apply-control-inputs",children:"Step 5: Apply Control Inputs"}),"\n",(0,o.jsx)(n.p,{children:"Let's prevent the humanoid from falling by applying joint torques:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'# Reset simulation\nmujoco.mj_resetData(model, data)\n\n# Simple standing controller - apply torques to maintain position\ndef simple_controller(model, data):\n    """Apply proportional control to maintain initial pose."""\n    kp = 100  # Proportional gain\n\n    # Target is initial joint positions (all zeros for this model)\n    target = np.zeros(model.nu)\n\n    # Current joint positions (skip free joint - first 7 elements)\n    current = data.qpos[7:7+model.nu]\n\n    # Apply proportional control\n    data.ctrl[:] = kp * (target - current)\n\n# Run with controller\nwith mujoco.viewer.launch_passive(model, data) as viewer:\n```python\n```python\n    while viewer.is_running() and data.time < 5.0:\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"        simple_controller(model, data)\n        mujoco.mj_step(model, data)\n        viewer.sync()\n"})}),"\n",(0,o.jsx)("checkpoint",{children:(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Verification"}),": The humanoid should attempt to maintain its pose rather than immediately collapsing.\n",(0,o.jsx)(n.strong,{children:"Expected"}),": While not perfect, the robot should show some resistance to falling."]})}),"\n",(0,o.jsx)(n.h2,{id:"expected-outcomes",children:"Expected Outcomes"}),"\n",(0,o.jsx)(n.p,{children:"By completing this lab, you should:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Have a working MuJoCo installation"}),"\n",(0,o.jsx)(n.li,{children:"Understand how to load and inspect robot models"}),"\n",(0,o.jsx)(n.li,{children:"Know the basic simulation loop structure"}),"\n",(0,o.jsx)(n.li,{children:"Be able to visualize simulations"}),"\n",(0,o.jsx)(n.li,{children:"Understand how control inputs affect robot behavior"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"rubric",children:"Rubric"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Criterion"}),(0,o.jsx)(n.th,{children:"Points"}),(0,o.jsx)(n.th,{children:"Excellent"}),(0,o.jsx)(n.th,{children:"Satisfactory"}),(0,o.jsx)(n.th,{children:"Needs Improvement"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Installation"}),(0,o.jsx)(n.td,{children:"20"}),(0,o.jsx)(n.td,{children:"MuJoCo installed, version verified"}),(0,o.jsx)(n.td,{children:"Installed with minor issues"}),(0,o.jsx)(n.td,{children:"Unable to install"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Model Loading"}),(0,o.jsx)(n.td,{children:"20"}),(0,o.jsx)(n.td,{children:"All properties correctly displayed"}),(0,o.jsx)(n.td,{children:"Model loads with warnings"}),(0,o.jsx)(n.td,{children:"Cannot load model"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Simulation Loop"}),(0,o.jsx)(n.td,{children:"25"}),(0,o.jsx)(n.td,{children:"Loop runs correctly, understands timestep"}),(0,o.jsx)(n.td,{children:"Loop runs but unclear on timing"}),(0,o.jsx)(n.td,{children:"Loop fails"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Visualization"}),(0,o.jsx)(n.td,{children:"20"}),(0,o.jsx)(n.td,{children:"Viewer works, can interact with scene"}),(0,o.jsx)(n.td,{children:"Viewer opens but limited interaction"}),(0,o.jsx)(n.td,{children:"Viewer fails"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Controller"}),(0,o.jsx)(n.td,{children:"15"}),(0,o.jsx)(n.td,{children:"Controller implemented and explained"}),(0,o.jsx)(n.td,{children:"Controller works but not understood"}),(0,o.jsx)(n.td,{children:"Controller fails"})]})]})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Total Points: 100"})}),"\n",(0,o.jsx)(n.h2,{id:"extensions",children:"Extensions"}),"\n",(0,o.jsx)(n.p,{children:"For additional challenge:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Modify the humanoid"}),": Edit the XML to change mass or joint limits"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Data logging"}),": Record joint positions over time and plot them"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Different models"}),": Load other MuJoCo models (ant, cheetah, etc.)"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"common-errors",children:"Common Errors"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Error"}),(0,o.jsx)(n.th,{children:"Cause"}),(0,o.jsx)(n.th,{children:"Fix"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"ModuleNotFoundError: mujoco"})}),(0,o.jsx)(n.td,{children:"MuJoCo not installed"}),(0,o.jsxs)(n.td,{children:["Run ",(0,o.jsx)(n.code,{children:"pip install mujoco"})]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"GLFWError"})}),(0,o.jsx)(n.td,{children:"Display issues"}),(0,o.jsxs)(n.td,{children:["Set ",(0,o.jsx)(n.code,{children:"MUJOCO_GL=egl"})," environment variable"]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"FileNotFoundError"})}),(0,o.jsx)(n.td,{children:"Model path wrong"}),(0,o.jsxs)(n.td,{children:["Use ",(0,o.jsx)(n.code,{children:"mujoco.util.get_resource_path()"})]})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453(e,n,i){i.d(n,{R:()=>l,x:()=>r});var t=i(6540);const o={},s=t.createContext(o);function l(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);