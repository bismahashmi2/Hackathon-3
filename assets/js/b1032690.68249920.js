"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[6192],{4408(s,e,i){i.r(e),i.d(e,{assets:()=>m,contentTitle:()=>r,default:()=>d,frontMatter:()=>t,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"textbook/modules/simulation-to-real/10","title":"Simulation to Real","description":"Introduction","source":"@site/docs/textbook/modules/10-simulation-to-real/theory.md","sourceDirName":"textbook/modules/10-simulation-to-real","slug":"/textbook/modules/simulation-to-real/simulation-to-real","permalink":"/Hackathon-3/docs/textbook/modules/simulation-to-real/simulation-to-real","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/textbook/modules/10-simulation-to-real/theory.md","tags":[],"version":"current","frontMatter":{"id":"10","title":"Simulation to Real","slug":"simulation-to-real","week":10,"difficulty":"intermediate","prerequisites":["07","08","09"],"learning_objectives":["Apply domain randomization techniques for robust policy transfer","Identify and mitigate the reality gap between simulation and physical systems","Validate simulation models against real robot behavior","Deploy trained policies from simulation to physical robots"],"estimated_hours":12,"status":"draft","last_updated":"2025-01-01T00:00:00.000Z","version":"1.0.0"},"sidebar":"tutorialSidebar","previous":{"title":"Complete Sim-to-Real Transfer Pipeline","permalink":"/Hackathon-3/docs/textbook/modules/simulation-to-real/labs/lab-10-03"},"next":{"title":"Learning-Based Control","permalink":"/Hackathon-3/docs/textbook/modules/learning-based-control/learning-based-control"}}');var a=i(4848),l=i(8453);const t={id:"10",title:"Simulation to Real",slug:"simulation-to-real",week:10,difficulty:"intermediate",prerequisites:["07","08","09"],learning_objectives:["Apply domain randomization techniques for robust policy transfer","Identify and mitigate the reality gap between simulation and physical systems","Validate simulation models against real robot behavior","Deploy trained policies from simulation to physical robots"],estimated_hours:12,status:"draft",last_updated:new Date("2025-01-01T00:00:00.000Z"),version:"1.0.0"},r="Module 10: Simulation to Real",m={},o=[{value:"Introduction",id:"introduction",level:2},{value:"Section 1: The Reality Gap",id:"section-1-the-reality-gap",level:2},{value:"1.1 Sources of Discrepancy",id:"11-sources-of-discrepancy",level:3},{value:"1.2 Quantifying the Gap",id:"12-quantifying-the-gap",level:3},{value:"Section 2: Domain Randomization",id:"section-2-domain-randomization",level:2},{value:"2.1 Randomizing Dynamics",id:"21-randomizing-dynamics",level:3},{value:"2.2 Curriculum Learning",id:"22-curriculum-learning",level:3},{value:"Section 3: System Identification",id:"section-3-system-identification",level:2},{value:"3.1 Parameter Estimation",id:"31-parameter-estimation",level:3},{value:"3.2 Model Validation",id:"32-model-validation",level:3},{value:"Section 4: Deployment",id:"section-4-deployment",level:2},{value:"4.1 Safety Considerations",id:"41-safety-considerations",level:3},{value:"4.2 Online Adaptation",id:"42-online-adaptation",level:3},{value:"Summary",id:"summary",level:2},{value:"Key Concepts",id:"key-concepts",level:2},{value:"Further Reading",id:"further-reading",level:2}];function c(s){const e={annotation:"annotation",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",msup:"msup",ol:"ol",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,l.R)(),...s.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"module-10-simulation-to-real",children:"Module 10: Simulation to Real"})}),"\n",(0,a.jsx)(e.h2,{id:"introduction",children:"Introduction"}),"\n",(0,a.jsx)(e.p,{children:'Training in simulation is faster, safer, and cheaper than real-world training. But the "reality gap" between simulation and reality can cause policies to fail. This module covers techniques for successful sim-to-real transfer.'}),"\n",(0,a.jsx)(e.h2,{id:"section-1-the-reality-gap",children:"Section 1: The Reality Gap"}),"\n",(0,a.jsx)(e.h3,{id:"11-sources-of-discrepancy",children:"1.1 Sources of Discrepancy"}),"\n",(0,a.jsx)("definition",{id:"def-reality-gap",children:(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Reality Gap"}),": The difference between simulated and real-world dynamics that causes policies trained in simulation to underperform or fail on physical systems."]})}),"\n",(0,a.jsx)(e.p,{children:"Sources include:"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"Inaccurate physics parameters"}),"\n",(0,a.jsx)(e.li,{children:"Unmodeled friction and contact"}),"\n",(0,a.jsx)(e.li,{children:"Sensor noise differences"}),"\n",(0,a.jsx)(e.li,{children:"Actuator delays and dynamics"}),"\n"]}),"\n",(0,a.jsx)(e.h3,{id:"12-quantifying-the-gap",children:"1.2 Quantifying the Gap"}),"\n",(0,a.jsx)(e.p,{children:"System identification and validation experiments."}),"\n",(0,a.jsx)(e.h2,{id:"section-2-domain-randomization",children:"Section 2: Domain Randomization"}),"\n",(0,a.jsx)(e.h3,{id:"21-randomizing-dynamics",children:"2.1 Randomizing Dynamics"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-python",children:"def randomize_simulation():\n    # Randomize physical properties\n    sim.mass = nominal_mass * np.random.uniform(0.8, 1.2)\n    sim.friction = np.random.uniform(0.3, 1.0)\n    sim.motor_delay = np.random.uniform(0.01, 0.05)\n\n    # Randomize visual properties\n    sim.lighting = random_lighting()\n    sim.textures = random_textures()\n\n    return sim\n"})}),"\n",(0,a.jsx)(e.h3,{id:"22-curriculum-learning",children:"2.2 Curriculum Learning"}),"\n",(0,a.jsx)(e.p,{children:"Progressively increasing randomization difficulty."}),"\n",(0,a.jsx)("warning",{children:(0,a.jsx)(e.p,{children:"Too much randomization can make learning impossible. Start with narrow ranges and expand gradually."})}),"\n",(0,a.jsx)(e.h2,{id:"section-3-system-identification",children:"Section 3: System Identification"}),"\n",(0,a.jsx)(e.h3,{id:"31-parameter-estimation",children:"3.1 Parameter Estimation"}),"\n",(0,a.jsx)(e.p,{children:"Fitting simulation parameters to real data:"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsxs)(e.msup,{children:[(0,a.jsx)(e.mi,{mathvariant:"bold-italic",children:"\u03b8"}),(0,a.jsx)(e.mo,{children:"\u2217"})]}),(0,a.jsx)(e.mo,{children:"="}),(0,a.jsx)(e.mi,{children:"arg"}),(0,a.jsx)(e.mo,{children:"\u2061"}),(0,a.jsxs)(e.msub,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"min"}),(0,a.jsx)(e.mo,{children:"\u2061"})]}),(0,a.jsx)(e.mi,{mathvariant:"bold-italic",children:"\u03b8"})]}),(0,a.jsx)(e.mi,{mathvariant:"normal",children:"\u2225"}),(0,a.jsxs)(e.msub,{children:[(0,a.jsx)(e.mi,{mathvariant:"bold",children:"y"}),(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"r"}),(0,a.jsx)(e.mi,{children:"e"}),(0,a.jsx)(e.mi,{children:"a"}),(0,a.jsx)(e.mi,{children:"l"})]})]}),(0,a.jsx)(e.mo,{children:"\u2212"}),(0,a.jsxs)(e.msub,{children:[(0,a.jsx)(e.mi,{mathvariant:"bold",children:"y"}),(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"s"}),(0,a.jsx)(e.mi,{children:"i"}),(0,a.jsx)(e.mi,{children:"m"})]})]}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{mathvariant:"bold-italic",children:"\u03b8"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"}),(0,a.jsxs)(e.msup,{children:[(0,a.jsx)(e.mi,{mathvariant:"normal",children:"\u2225"}),(0,a.jsx)(e.mn,{children:"2"})]})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\boldsymbol{\\theta}^* = \\arg\\min_{\\boldsymbol{\\theta}} \\|\\mathbf{y}_{real} - \\mathbf{y}_{sim}(\\boldsymbol{\\theta})\\|^2"})]})})}),(0,a.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.773em"}}),(0,a.jsxs)(e.span,{className:"mord",children:[(0,a.jsx)(e.span,{className:"mord",children:(0,a.jsx)(e.span,{className:"mord",children:(0,a.jsx)(e.span,{className:"mord boldsymbol",style:{marginRight:"0.03194em"},children:"\u03b8"})})}),(0,a.jsx)(e.span,{className:"msupsub",children:(0,a.jsx)(e.span,{className:"vlist-t",children:(0,a.jsx)(e.span,{className:"vlist-r",children:(0,a.jsx)(e.span,{className:"vlist",style:{height:"0.773em"},children:(0,a.jsxs)(e.span,{style:{top:"-3.1473em",marginRight:"0.05em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(e.span,{className:"mbin mtight",children:"\u2217"})})]})})})})})]}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(e.span,{className:"mrel",children:"="}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsxs)(e.span,{className:"mop",children:["ar",(0,a.jsx)(e.span,{style:{marginRight:"0.01389em"},children:"g"})]}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsxs)(e.span,{className:"mop",children:[(0,a.jsx)(e.span,{className:"mop",children:"min"}),(0,a.jsx)(e.span,{className:"msupsub",children:(0,a.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(e.span,{className:"vlist-r",children:[(0,a.jsx)(e.span,{className:"vlist",style:{height:"0.3361em"},children:(0,a.jsxs)(e.span,{style:{top:"-2.55em",marginRight:"0.05em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(e.span,{className:"mord mtight",children:(0,a.jsx)(e.span,{className:"mord mtight",children:(0,a.jsx)(e.span,{className:"mord mtight",children:(0,a.jsx)(e.span,{className:"mord boldsymbol mtight",style:{marginRight:"0.03194em"},children:"\u03b8"})})})})})]})}),(0,a.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(e.span,{className:"vlist-r",children:(0,a.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(e.span,{})})})]})})]}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(e.span,{className:"mord",children:"\u2225"}),(0,a.jsxs)(e.span,{className:"mord",children:[(0,a.jsx)(e.span,{className:"mord mathbf",style:{marginRight:"0.01597em"},children:"y"}),(0,a.jsx)(e.span,{className:"msupsub",children:(0,a.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(e.span,{className:"vlist-r",children:[(0,a.jsx)(e.span,{className:"vlist",style:{height:"0.3361em"},children:(0,a.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.016em",marginRight:"0.05em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(e.span,{className:"mord mtight",children:[(0,a.jsx)(e.span,{className:"mord mathnormal mtight",children:"re"}),(0,a.jsx)(e.span,{className:"mord mathnormal mtight",children:"a"}),(0,a.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"},children:"l"})]})})]})}),(0,a.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(e.span,{className:"vlist-r",children:(0,a.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(e.span,{})})})]})})]}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(e.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1.0641em",verticalAlign:"-0.25em"}}),(0,a.jsxs)(e.span,{className:"mord",children:[(0,a.jsx)(e.span,{className:"mord mathbf",style:{marginRight:"0.01597em"},children:"y"}),(0,a.jsx)(e.span,{className:"msupsub",children:(0,a.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(e.span,{className:"vlist-r",children:[(0,a.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,a.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.016em",marginRight:"0.05em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(e.span,{className:"mord mtight",children:[(0,a.jsx)(e.span,{className:"mord mathnormal mtight",children:"s"}),(0,a.jsx)(e.span,{className:"mord mathnormal mtight",children:"im"})]})})]})}),(0,a.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(e.span,{className:"vlist-r",children:(0,a.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(e.span,{})})})]})})]}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord",children:(0,a.jsx)(e.span,{className:"mord",children:(0,a.jsx)(e.span,{className:"mord boldsymbol",style:{marginRight:"0.03194em"},children:"\u03b8"})})}),(0,a.jsx)(e.span,{className:"mclose",children:")"}),(0,a.jsxs)(e.span,{className:"mord",children:[(0,a.jsx)(e.span,{className:"mord",children:"\u2225"}),(0,a.jsx)(e.span,{className:"msupsub",children:(0,a.jsx)(e.span,{className:"vlist-t",children:(0,a.jsx)(e.span,{className:"vlist-r",children:(0,a.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,a.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,a.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(e.span,{className:"mord mtight",children:"2"})})]})})})})})]})]})]})]})}),"\n",(0,a.jsx)(e.h3,{id:"32-model-validation",children:"3.2 Model Validation"}),"\n",(0,a.jsx)(e.p,{children:"Cross-validation with held-out trajectories."}),"\n",(0,a.jsx)(e.h2,{id:"section-4-deployment",children:"Section 4: Deployment"}),"\n",(0,a.jsx)(e.h3,{id:"41-safety-considerations",children:"4.1 Safety Considerations"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"Gradual testing protocol"}),"\n",(0,a.jsx)(e.li,{children:"Emergency stops"}),"\n",(0,a.jsx)(e.li,{children:"Monitoring for anomalies"}),"\n"]}),"\n",(0,a.jsx)(e.h3,{id:"42-online-adaptation",children:"4.2 Online Adaptation"}),"\n",(0,a.jsx)(e.p,{children:"Fine-tuning with real-world data after initial deployment."}),"\n",(0,a.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,a.jsx)(e.p,{children:"Key takeaways:"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsx)(e.li,{children:"Reality gap causes simulation-trained policies to fail"}),"\n",(0,a.jsx)(e.li,{children:"Domain randomization builds robustness"}),"\n",(0,a.jsx)(e.li,{children:"System identification improves simulation accuracy"}),"\n",(0,a.jsx)(e.li,{children:"Careful deployment protocols ensure safety"}),"\n"]}),"\n",(0,a.jsx)(e.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Reality Gap"}),": Sim-real discrepancy"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Domain Randomization"}),": Training with varied parameters"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"System Identification"}),": Estimating model parameters"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Transfer Learning"}),": Applying simulation knowledge to reality"]}),"\n"]}),"\n",(0,a.jsx)(e.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsx)(e.li,{children:'Tobin et al. (2017). "Domain Randomization for Transferring Deep Neural Networks from Simulation to the Real World"'}),"\n",(0,a.jsx)(e.li,{children:'Zhao et al. (2020). "Sim-to-Real Transfer in Deep Reinforcement Learning for Robotics"'}),"\n"]})]})}function d(s={}){const{wrapper:e}={...(0,l.R)(),...s.components};return e?(0,a.jsx)(e,{...s,children:(0,a.jsx)(c,{...s})}):c(s)}},8453(s,e,i){i.d(e,{R:()=>t,x:()=>r});var n=i(6540);const a={},l=n.createContext(a);function t(s){const e=n.useContext(l);return n.useMemo(function(){return"function"==typeof s?s(e):{...e,...s}},[e,s])}function r(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(a):s.components||a:t(s.components),n.createElement(l.Provider,{value:e},s.children)}}}]);