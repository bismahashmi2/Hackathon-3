"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[6288],{8453(e,n,t){t.d(n,{R:()=>r,x:()=>a});var i=t(6540);const o={},s=i.createContext(o);function r(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}},9492(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"textbook/modules/introduction-physical-ai/labs/lab-01-02","title":"Exploring the Humanoid Model","description":"Objectives","source":"@site/docs/textbook/modules/01-introduction-physical-ai/labs/lab-01-02.md","sourceDirName":"textbook/modules/01-introduction-physical-ai/labs","slug":"/textbook/modules/introduction-physical-ai/labs/lab-01-02","permalink":"/Hackathon-3/docs/textbook/modules/introduction-physical-ai/labs/lab-01-02","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/textbook/modules/01-introduction-physical-ai/labs/lab-01-02.md","tags":[],"version":"current","frontMatter":{"id":"lab-01-02","module_id":"01","title":"Exploring the Humanoid Model","difficulty":"guided","tier":"simulation","duration_minutes":60,"submission_format":"notebook","auto_gradable":false},"sidebar":"tutorialSidebar","previous":{"title":"Setting Up Your MuJoCo Environment","permalink":"/Hackathon-3/docs/textbook/modules/introduction-physical-ai/labs/lab-01-01"},"next":{"title":"Basic Actuation and Control","permalink":"/Hackathon-3/docs/textbook/modules/introduction-physical-ai/labs/lab-01-03"}}');var o=t(4848),s=t(8453);const r={id:"lab-01-02",module_id:"01",title:"Exploring the Humanoid Model",difficulty:"guided",tier:"simulation",duration_minutes:60,submission_format:"notebook",auto_gradable:!1},a="Lab 01-02: Exploring the Humanoid Model",d={},l=[{value:"Objectives",id:"objectives",level:2},{value:"Materials",id:"materials",level:2},{value:"Instructions",id:"instructions",level:2},{value:"Step 1: Load and Examine the Body Hierarchy",id:"step-1-load-and-examine-the-body-hierarchy",level:3},{value:"Step 2: Explore Joint Properties",id:"step-2-explore-joint-properties",level:3},{value:"Step 3: Visualize Joint Ranges",id:"step-3-visualize-joint-ranges",level:3},{value:"Step 4: Map Actuators to Joints",id:"step-4-map-actuators-to-joints",level:3},{value:"Step 5: Test Actuator Response",id:"step-5-test-actuator-response",level:3},{value:"Expected Outcomes",id:"expected-outcomes",level:2},{value:"Rubric",id:"rubric",level:2},{value:"Extensions",id:"extensions",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"lab-01-02-exploring-the-humanoid-model",children:"Lab 01-02: Exploring the Humanoid Model"})}),"\n",(0,o.jsx)(n.h2,{id:"objectives",children:"Objectives"}),"\n",(0,o.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Understand the hierarchical structure of robot bodies"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Identify and visualize individual joints and their ranges"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Map actuators to their corresponding joints"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Examine the sensor configuration"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"materials",children:"Materials"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Type"}),(0,o.jsx)(n.th,{children:"Name"}),(0,o.jsx)(n.th,{children:"Version"}),(0,o.jsx)(n.th,{children:"Tier"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"software"}),(0,o.jsx)(n.td,{children:"Python"}),(0,o.jsx)(n.td,{children:"3.10+"}),(0,o.jsx)(n.td,{children:"required"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"software"}),(0,o.jsx)(n.td,{children:"MuJoCo"}),(0,o.jsx)(n.td,{children:"3.0+"}),(0,o.jsx)(n.td,{children:"required"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"software"}),(0,o.jsx)(n.td,{children:"Matplotlib"}),(0,o.jsx)(n.td,{children:"3.5+"}),(0,o.jsx)(n.td,{children:"recommended"})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"instructions",children:"Instructions"}),"\n",(0,o.jsx)(n.h3,{id:"step-1-load-and-examine-the-body-hierarchy",children:"Step 1: Load and Examine the Body Hierarchy"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'import mujoco\nimport numpy as np\n\n# Load model\nmodel = mujoco.MjModel.from_xml_path(\n    mujoco.util.get_resource_path("humanoid/humanoid.xml")\n)\ndata = mujoco.MjData(model)\n\n# Print body hierarchy\ndef print_body_tree(model, body_id=0, indent=0):\n    """Recursively print the body tree."""\n    name = mujoco.mj_id2name(model, mujoco.mjtObj.mjOBJ_BODY, body_id)\n    mass = model.body_mass[body_id]\n    print("  " * indent + f"\u251c\u2500 {name} (mass: {mass:.2f} kg)")\n\n    # Find children\n    for i in range(model.nbody):\n```python\n```python\n        if model.body_parentid[i] == body_id and i != body_id:\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'            print_body_tree(model, i, indent + 1)\n\nprint("Body Hierarchy:")\nprint_body_tree(model)\n'})}),"\n",(0,o.jsx)("checkpoint",{children:(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Expected Output"}),": A tree structure showing torso at root with limbs branching off.\n",(0,o.jsx)(n.strong,{children:"Verification"}),": You should see ~14 bodies including torso, pelvis, thighs, shins, feet, upper arms, forearms, and hands."]})}),"\n",(0,o.jsx)(n.h3,{id:"step-2-explore-joint-properties",children:"Step 2: Explore Joint Properties"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'# List all joints with their properties\nprint("\\n" + "="*60)\nprint("JOINT PROPERTIES")\nprint("="*60)\n\nfor i in range(model.njnt):\n    name = mujoco.mj_id2name(model, mujoco.mjtObj.mjOBJ_JOINT, i)\n    jnt_type = model.jnt_type[i]\n    type_names = {0: "FREE", 1: "BALL", 2: "SLIDE", 3: "HINGE"}\n\n    # Get joint limits\n    limited = model.jnt_limited[i]\n    if limited:\n        range_low = model.jnt_range[i, 0]\n        range_high = model.jnt_range[i, 1]\n        range_str = f"[{np.degrees(range_low):.1f}\xb0, {np.degrees(range_high):.1f}\xb0]"\n    else:\n        range_str = "unlimited"\n\n    # Get associated body\n    body_id = model.jnt_bodyid[i]\n    body_name = mujoco.mj_id2name(model, mujoco.mjtObj.mjOBJ_BODY, body_id)\n\n    print(f"{name:20} | Type: {type_names.get(jnt_type, \'?\'):6} | "\n          f"Range: {range_str:25} | Body: {body_name}")\n'})}),"\n",(0,o.jsx)("checkpoint",{children:(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Verification"}),": You should see joints like ",(0,o.jsx)(n.code,{children:"abdomen_y"}),", ",(0,o.jsx)(n.code,{children:"right_hip_x"}),", ",(0,o.jsx)(n.code,{children:"left_knee"}),", etc.\n",(0,o.jsx)(n.strong,{children:"Understanding Check"}),": Note which joints are HINGE (1-DOF) vs BALL (3-DOF)."]})}),"\n",(0,o.jsx)(n.h3,{id:"step-3-visualize-joint-ranges",children:"Step 3: Visualize Joint Ranges"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"import matplotlib.pyplot as plt\n\n# Collect hinge joint data for visualization\nhinge_joints = []\nfor i in range(model.njnt):\n```python\n```python\n    if model.jnt_type[i] == 3:  # HINGE\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"        name = mujoco.mj_id2name(model, mujoco.mjtObj.mjOBJ_JOINT, i)\n        if model.jnt_limited[i]:\n            low = np.degrees(model.jnt_range[i, 0])\n            high = np.degrees(model.jnt_range[i, 1])\n            hinge_joints.append((name, low, high))\n\n# Create range visualization\nfig, ax = plt.subplots(figsize=(10, 8))\n\ny_positions = range(len(hinge_joints))\nfor i, (name, low, high) in enumerate(hinge_joints):\n    ax.barh(i, high - low, left=low, height=0.6, color='steelblue', alpha=0.7)\n    ax.plot([0, 0], [-0.5, len(hinge_joints) - 0.5], 'k--', linewidth=0.5)\n\nax.set_yticks(y_positions)\nax.set_yticklabels([j[0] for j in hinge_joints])\nax.set_xlabel('Joint Angle (degrees)')\nax.set_title('Humanoid Joint Ranges')\nax.grid(axis='x', alpha=0.3)\nplt.tight_layout()\nplt.savefig('joint_ranges.png', dpi=150)\nplt.show()\n"})}),"\n",(0,o.jsx)("checkpoint",{children:(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Expected"}),": A horizontal bar chart showing the range of motion for each joint.\n",(0,o.jsx)(n.strong,{children:"Note"}),": Most leg joints have limited ranges (~\xb190\xb0) while some have wider ranges."]})}),"\n",(0,o.jsx)(n.h3,{id:"step-4-map-actuators-to-joints",children:"Step 4: Map Actuators to Joints"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'print("\\n" + "="*60)\nprint("ACTUATOR MAPPING")\nprint("="*60)\n\nfor i in range(model.nu):\n    act_name = mujoco.mj_id2name(model, mujoco.mjtObj.mjOBJ_ACTUATOR, i)\n\n    # Get actuator properties\n    gear = model.actuator_gear[i, 0]\n    ctrl_range = model.actuator_ctrlrange[i]\n\n    # Find associated joint (transmission target)\n    trnid = model.actuator_trnid[i, 0]\n    trn_type = model.actuator_trntype[i]\n\n```python\n```python\n    if trn_type == 0:  # Joint transmission\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'        jnt_name = mujoco.mj_id2name(model, mujoco.mjtObj.mjOBJ_JOINT, trnid)\n    else:\n        jnt_name = "complex"\n\n    print(f"{act_name:20} \u2192 {jnt_name:20} | "\n          f"Gear: {gear:6.1f} | Range: [{ctrl_range[0]:.1f}, {ctrl_range[1]:.1f}]")\n'})}),"\n",(0,o.jsx)("checkpoint",{children:(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Verification"}),": Each actuator should map to a specific joint.\n",(0,o.jsx)(n.strong,{children:"Understanding"}),": Gear ratio affects the torque-speed tradeoff."]})}),"\n",(0,o.jsx)(n.h3,{id:"step-5-test-actuator-response",children:"Step 5: Test Actuator Response"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# Reset simulation\nmujoco.mj_resetData(model, data)\n\n# Find a specific actuator to test\nact_name = \"right_hip_y\"\nact_id = mujoco.mj_name2id(model, mujoco.mjtObj.mjOBJ_ACTUATOR, act_name)\n\n# Apply a constant torque and observe\ndata.ctrl[act_id] = 50.0  # Apply torque\n\n# Record joint response\ntimes = []\npositions = []\n\nfor _ in range(500):\n    mujoco.mj_step(model, data)\n    times.append(data.time)\n\n    # Get position of associated joint\n    jnt_id = model.actuator_trnid[act_id, 0]\n    qpos_adr = model.jnt_qposadr[jnt_id]\n    positions.append(data.qpos[qpos_adr])\n\n# Plot response\nplt.figure(figsize=(10, 4))\nplt.plot(times, np.degrees(positions))\nplt.xlabel('Time (s)')\nplt.ylabel('Joint Angle (degrees)')\nplt.title(f'Response of {act_name} to Constant Torque')\nplt.grid(True, alpha=0.3)\nplt.savefig('actuator_response.png', dpi=150)\nplt.show()\n"})}),"\n",(0,o.jsx)("checkpoint",{children:(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Expected"}),": The joint angle should change over time in response to the applied torque.\n",(0,o.jsx)(n.strong,{children:"Analysis"}),": Note how quickly the joint responds and any oscillations."]})}),"\n",(0,o.jsx)(n.h2,{id:"expected-outcomes",children:"Expected Outcomes"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Complete understanding of the humanoid body structure"}),"\n",(0,o.jsxs)(n.li,{children:["Visualization of joint ranges saved as ",(0,o.jsx)(n.code,{children:"joint_ranges.png"})]}),"\n",(0,o.jsx)(n.li,{children:"Understanding of actuator-joint mapping"}),"\n",(0,o.jsxs)(n.li,{children:["Actuator response plot saved as ",(0,o.jsx)(n.code,{children:"actuator_response.png"})]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"rubric",children:"Rubric"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Criterion"}),(0,o.jsx)(n.th,{children:"Points"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Body Hierarchy"}),(0,o.jsx)(n.td,{children:"20"}),(0,o.jsx)(n.td,{children:"Correctly prints and explains the body tree"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Joint Analysis"}),(0,o.jsx)(n.td,{children:"25"}),(0,o.jsx)(n.td,{children:"Identifies all joints with correct properties"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Visualization"}),(0,o.jsx)(n.td,{children:"20"}),(0,o.jsx)(n.td,{children:"Creates clear joint range visualization"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Actuator Mapping"}),(0,o.jsx)(n.td,{children:"20"}),(0,o.jsx)(n.td,{children:"Correctly maps all actuators to joints"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Response Analysis"}),(0,o.jsx)(n.td,{children:"15"}),(0,o.jsx)(n.td,{children:"Analyzes and explains actuator response"})]})]})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Total: 100 points"})}),"\n",(0,o.jsx)(n.h2,{id:"extensions",children:"Extensions"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Compare Models"}),": Load the ",(0,o.jsx)(n.code,{children:"ant"})," or ",(0,o.jsx)(n.code,{children:"cheetah"})," model and compare structures"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Custom Visualization"}),": Create a 3D visualization of the body hierarchy"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Symmetry Analysis"}),": Verify left-right symmetry in joint properties"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);