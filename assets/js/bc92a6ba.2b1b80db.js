"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[1185],{6886(s,e,n){n.r(e),n.d(e,{assets:()=>m,contentTitle:()=>r,default:()=>d,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"textbook/modules/locomotion/labs/lab-08-01","title":"Bipedal Balance and Standing","description":"Objectives","source":"@site/docs/textbook/modules/08-locomotion/labs/lab-08-01.md","sourceDirName":"textbook/modules/08-locomotion/labs","slug":"/textbook/modules/locomotion/labs/lab-08-01","permalink":"/Hackathon-3/docs/textbook/modules/locomotion/labs/lab-08-01","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/textbook/modules/08-locomotion/labs/lab-08-01.md","tags":[],"version":"current","frontMatter":{"id":"lab-08-01","module_id":"08","title":"Bipedal Balance and Standing","difficulty":"guided","tier":"simulation","duration_minutes":75},"sidebar":"tutorialSidebar","previous":{"title":"Ethics in Robotic Locomotion","permalink":"/Hackathon-3/docs/textbook/modules/locomotion/ethics"},"next":{"title":"Walking Gait Generation","permalink":"/Hackathon-3/docs/textbook/modules/locomotion/labs/lab-08-02"}}');var i=n(4848),a=n(8453);const l={id:"lab-08-01",module_id:"08",title:"Bipedal Balance and Standing",difficulty:"guided",tier:"simulation",duration_minutes:75},r="Lab 08-01: Bipedal Balance and Standing",m={},c=[{value:"Objectives",id:"objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Materials",id:"materials",level:2},{value:"Background",id:"background",level:2},{value:"The Balance Problem",id:"the-balance-problem",level:3},{value:"Zero Moment Point (ZMP)",id:"zero-moment-point-zmp",level:3},{value:"Linear Inverted Pendulum Model (LIPM)",id:"linear-inverted-pendulum-model-lipm",level:3},{value:"Instructions",id:"instructions",level:2},{value:"Step 1: Load and Explore Bipedal Model",id:"step-1-load-and-explore-bipedal-model",level:3},{value:"Step 2: Compute Zero Moment Point",id:"step-2-compute-zero-moment-point",level:3},{value:"Step 3: Implement LIPM Controller",id:"step-3-implement-lipm-controller",level:3},{value:"Step 4: Simulate Quiet Standing",id:"step-4-simulate-quiet-standing",level:3},{value:"Step 5: Analyze Stability Margins",id:"step-5-analyze-stability-margins",level:3},{value:"Step 6: Capture Point Analysis",id:"step-6-capture-point-analysis",level:3},{value:"Expected Outcomes",id:"expected-outcomes",level:2},{value:"Rubric",id:"rubric",level:2},{value:"Common Errors",id:"common-errors",level:2},{value:"Extensions",id:"extensions",level:2},{value:"Related Content",id:"related-content",level:2}];function o(s){const e={annotation:"annotation",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",input:"input",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mo:"mo",mover:"mover",mrow:"mrow",msub:"msub",ol:"ol",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...s.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"lab-08-01-bipedal-balance-and-standing",children:"Lab 08-01: Bipedal Balance and Standing"})}),"\n",(0,i.jsx)(e.h2,{id:"objectives",children:"Objectives"}),"\n",(0,i.jsx)(e.p,{children:"By the end of this lab, you will be able to:"}),"\n",(0,i.jsxs)(e.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(e.li,{className:"task-list-item",children:[(0,i.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Implement a simple inverted pendulum balance controller"]}),"\n",(0,i.jsxs)(e.li,{className:"task-list-item",children:[(0,i.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Calculate and track Zero Moment Point (ZMP)"]}),"\n",(0,i.jsxs)(e.li,{className:"task-list-item",children:[(0,i.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Design a center of mass (CoM) controller for quiet standing"]}),"\n",(0,i.jsxs)(e.li,{className:"task-list-item",children:[(0,i.jsx)(e.input,{type:"checkbox",disabled:!0})," ","Analyze stability margins for bipedal stance"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Completed Module 05 (Dynamics and Control)"}),"\n",(0,i.jsx)(e.li,{children:"Understanding of rigid body dynamics"}),"\n",(0,i.jsx)(e.li,{children:"Familiarity with state feedback control"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"materials",children:"Materials"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"Type"}),(0,i.jsx)(e.th,{children:"Name"}),(0,i.jsx)(e.th,{children:"Tier"}),(0,i.jsx)(e.th,{children:"Notes"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"software"}),(0,i.jsx)(e.td,{children:"MuJoCo 3.0+"}),(0,i.jsx)(e.td,{children:"required"}),(0,i.jsx)(e.td,{children:"Physics simulation"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"software"}),(0,i.jsx)(e.td,{children:"Python 3.10+"}),(0,i.jsx)(e.td,{children:"required"}),(0,i.jsx)(e.td,{children:"Programming environment"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"software"}),(0,i.jsx)(e.td,{children:"NumPy, SciPy"}),(0,i.jsx)(e.td,{children:"required"}),(0,i.jsx)(e.td,{children:"Linear algebra, control"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"simulation"}),(0,i.jsx)(e.td,{children:"simple-biped.xml"}),(0,i.jsx)(e.td,{children:"required"}),(0,i.jsx)(e.td,{children:"Simplified bipedal model"})]})]})]}),"\n",(0,i.jsx)(e.h2,{id:"background",children:"Background"}),"\n",(0,i.jsx)(e.h3,{id:"the-balance-problem",children:"The Balance Problem"}),"\n",(0,i.jsx)(e.p,{children:"Standing balance requires keeping the center of mass (CoM) over the support polygon (feet). For quiet standing, this is a classic inverted pendulum problem."}),"\n",(0,i.jsx)(e.h3,{id:"zero-moment-point-zmp",children:"Zero Moment Point (ZMP)"}),"\n",(0,i.jsx)(e.p,{children:"The ZMP is the point on the ground where the net moment of all forces equals zero:"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"Z"}),(0,i.jsx)(e.mi,{children:"M"}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"P"}),(0,i.jsx)(e.mi,{children:"x"})]}),(0,i.jsx)(e.mo,{children:"="}),(0,i.jsxs)(e.mfrac,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mo,{children:"\u2211"}),(0,i.jsx)(e.mi,{children:"i"})]}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"m"}),(0,i.jsx)(e.mi,{children:"i"})]}),(0,i.jsxs)(e.msub,{children:[(0,i.jsxs)(e.mover,{accent:"true",children:[(0,i.jsx)(e.mi,{children:"z"}),(0,i.jsx)(e.mo,{children:"\xa8"})]}),(0,i.jsx)(e.mi,{children:"i"})]}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsx)(e.mi,{children:"i"})]}),(0,i.jsx)(e.mo,{children:"\u2212"}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"m"}),(0,i.jsx)(e.mi,{children:"i"})]}),(0,i.jsxs)(e.msub,{children:[(0,i.jsxs)(e.mover,{accent:"true",children:[(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsx)(e.mo,{children:"\xa8"})]}),(0,i.jsx)(e.mi,{children:"i"})]}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"z"}),(0,i.jsx)(e.mi,{children:"i"})]}),(0,i.jsx)(e.mo,{children:"+"}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"m"}),(0,i.jsx)(e.mi,{children:"i"})]}),(0,i.jsx)(e.mi,{children:"g"}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsx)(e.mi,{children:"i"})]}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mo,{children:"\u2211"}),(0,i.jsx)(e.mi,{children:"i"})]}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"m"}),(0,i.jsx)(e.mi,{children:"i"})]}),(0,i.jsxs)(e.msub,{children:[(0,i.jsxs)(e.mover,{accent:"true",children:[(0,i.jsx)(e.mi,{children:"z"}),(0,i.jsx)(e.mo,{children:"\xa8"})]}),(0,i.jsx)(e.mi,{children:"i"})]}),(0,i.jsx)(e.mo,{children:"+"}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"m"}),(0,i.jsx)(e.mi,{children:"i"})]}),(0,i.jsx)(e.mi,{children:"g"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]})]})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"ZMP_x = \\frac{\\sum_i (m_i \\ddot{z}_i x_i - m_i \\ddot{x}_i z_i + m_i g x_i)}{\\sum_i (m_i \\ddot{z}_i + m_i g)}"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"ZM"}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"P"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.1514em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"x"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:"="}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1.63em",verticalAlign:"-0.57em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,i.jsx)(e.span,{className:"mfrac",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsxs)(e.span,{className:"vlist",style:{height:"1.06em"},children:[(0,i.jsxs)(e.span,{style:{top:"-2.655em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsxs)(e.span,{className:"mop mtight",children:[(0,i.jsx)(e.span,{className:"mop op-symbol small-op mtight",style:{position:"relative",top:"0em"},children:"\u2211"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.1496em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.1786em",marginLeft:"0em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3214em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mopen mtight",children:"("}),(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"m"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3281em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.357em",marginLeft:"0em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.143em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord accent mtight",children:(0,i.jsx)(e.span,{className:"vlist-t",children:(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsxs)(e.span,{className:"vlist",style:{height:"0.6679em"},children:[(0,i.jsxs)(e.span,{style:{top:"-2.7em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.04398em"},children:"z"})]}),(0,i.jsxs)(e.span,{style:{top:"-2.7em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"accent-body",style:{left:"-0.1944em"},children:(0,i.jsx)(e.span,{className:"mord mtight",children:"\xa8"})})]})]})})})}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3281em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.357em",marginLeft:"-0.044em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.143em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mbin mtight",children:"+"}),(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"m"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3281em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.357em",marginLeft:"0em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.143em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"g"}),(0,i.jsx)(e.span,{className:"mclose mtight",children:")"})]})})]}),(0,i.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,i.jsxs)(e.span,{style:{top:"-3.535em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsxs)(e.span,{className:"mop mtight",children:[(0,i.jsx)(e.span,{className:"mop op-symbol small-op mtight",style:{position:"relative",top:"0em"},children:"\u2211"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.1496em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.1786em",marginLeft:"0em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3214em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mopen mtight",children:"("}),(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"m"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3281em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.357em",marginLeft:"0em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.143em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord accent mtight",children:(0,i.jsx)(e.span,{className:"vlist-t",children:(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsxs)(e.span,{className:"vlist",style:{height:"0.6679em"},children:[(0,i.jsxs)(e.span,{style:{top:"-2.7em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.04398em"},children:"z"})]}),(0,i.jsxs)(e.span,{style:{top:"-2.7em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"accent-body",style:{left:"-0.1944em"},children:(0,i.jsx)(e.span,{className:"mord mtight",children:"\xa8"})})]})]})})})}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3281em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.357em",marginLeft:"-0.044em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.143em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"x"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3281em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.357em",marginLeft:"0em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.143em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mbin mtight",children:"\u2212"}),(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"m"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3281em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.357em",marginLeft:"0em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.143em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord accent mtight",children:(0,i.jsx)(e.span,{className:"vlist-t",children:(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsxs)(e.span,{className:"vlist",style:{height:"0.6679em"},children:[(0,i.jsxs)(e.span,{style:{top:"-2.7em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"x"})]}),(0,i.jsxs)(e.span,{style:{top:"-2.7em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"accent-body",style:{left:"-0.2222em"},children:(0,i.jsx)(e.span,{className:"mord mtight",children:"\xa8"})})]})]})})})}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3281em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.357em",marginLeft:"0em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.143em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.04398em"},children:"z"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3281em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.357em",marginLeft:"-0.044em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.143em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mbin mtight",children:"+"}),(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"m"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3281em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.357em",marginLeft:"0em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.143em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"g"}),(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"x"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3281em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.357em",marginLeft:"0em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.143em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mclose mtight",children:")"})]})})]})]}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.57em"},children:(0,i.jsx)(e.span,{})})})]})}),(0,i.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})]})]})}),"\n",(0,i.jsx)(e.p,{children:"For stable standing: ZMP must lie within the support polygon."}),"\n",(0,i.jsx)(e.h3,{id:"linear-inverted-pendulum-model-lipm",children:"Linear Inverted Pendulum Model (LIPM)"}),"\n",(0,i.jsx)(e.p,{children:"Simplified dynamics for CoM control:"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsxs)(e.msub,{children:[(0,i.jsxs)(e.mover,{accent:"true",children:[(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsx)(e.mo,{children:"\xa8"})]}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"C"}),(0,i.jsx)(e.mi,{children:"o"}),(0,i.jsx)(e.mi,{children:"M"})]})]}),(0,i.jsx)(e.mo,{children:"="}),(0,i.jsxs)(e.mfrac,{children:[(0,i.jsx)(e.mi,{children:"g"}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"z"}),(0,i.jsx)(e.mi,{children:"c"})]})]}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"C"}),(0,i.jsx)(e.mi,{children:"o"}),(0,i.jsx)(e.mi,{children:"M"})]})]}),(0,i.jsx)(e.mo,{children:"\u2212"}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"Z"}),(0,i.jsx)(e.mi,{children:"M"}),(0,i.jsx)(e.mi,{children:"P"})]})]}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\ddot{x}_{CoM} = \\frac{g}{z_c}(x_{CoM} - x_{ZMP})"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.8179em",verticalAlign:"-0.15em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord accent",children:(0,i.jsx)(e.span,{className:"vlist-t",children:(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsxs)(e.span,{className:"vlist",style:{height:"0.6679em"},children:[(0,i.jsxs)(e.span,{style:{top:"-3em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"x"})]}),(0,i.jsxs)(e.span,{style:{top:"-3em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"accent-body",style:{left:"-0.2222em"},children:(0,i.jsx)(e.span,{className:"mord",children:"\xa8"})})]})]})})})}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3283em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.07153em"},children:"C"}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"o"}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10903em"},children:"M"})]})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:"="}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1.1951em",verticalAlign:"-0.4451em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,i.jsx)(e.span,{className:"mfrac",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsxs)(e.span,{className:"vlist",style:{height:"0.7475em"},children:[(0,i.jsxs)(e.span,{style:{top:"-2.655em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.04398em"},children:"z"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.1645em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.357em",marginLeft:"-0.044em",marginRight:"0.0714em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"c"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.143em"},children:(0,i.jsx)(e.span,{})})})]})})]})})})]}),(0,i.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,i.jsxs)(e.span,{style:{top:"-3.4461em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"g"})})})]})]}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.4451em"},children:(0,i.jsx)(e.span,{})})})]})}),(0,i.jsx)(e.span,{className:"mclose nulldelimiter"})]}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3283em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.07153em"},children:"C"}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"o"}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10903em"},children:"M"})]})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(e.span,{className:"mbin",children:"\u2212"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3283em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"},children:"ZMP"})})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mclose",children:")"})]})]})]})}),"\n",(0,i.jsxs)(e.p,{children:["Where ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"z"}),(0,i.jsx)(e.mi,{children:"c"})]})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"z_c"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.04398em"},children:"z"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.1514em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.044em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"c"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]})]})})]})," is the constant CoM height."]}),"\n",(0,i.jsx)(e.h2,{id:"instructions",children:"Instructions"}),"\n",(0,i.jsx)(e.h3,{id:"step-1-load-and-explore-bipedal-model",children:"Step 1: Load and Explore Bipedal Model"}),"\n",(0,i.jsx)(e.p,{children:"Initialize the simulation environment:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'import mujoco\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy import signal\n\n# Load simple biped model\nmodel = mujoco.MjModel.from_xml_path(\n    "textbook/assets/robot-models/mujoco/simple-biped.xml"\n)\ndata = mujoco.MjData(model)\n\n# Explore model structure\nprint(f"Number of bodies: {model.nbody}")\nprint(f"Number of joints: {model.njnt}")\nprint(f"Number of actuators: {model.nu}")\n\n# Identify key bodies\nbody_names = {}\nfor i in range(model.nbody):\n    name = mujoco.mj_id2name(model, mujoco.mjtObj.mjOBJ_BODY, i)\n    if name:\n        body_names[name] = i\n        print(f"Body {i}: {name}")\n\n# Find torso, feet\ntorso_id = body_names.get(\'torso\', 0)\nleft_foot_id = body_names.get(\'left_foot\', 0)\nright_foot_id = body_names.get(\'right_foot\', 0)\n\n# Initialize\nmujoco.mj_resetData(model, data)\nmujoco.mj_forward(model, data)\n\nprint(f"\\nInitial torso position: {data.xpos[torso_id]}")\nprint(f"Initial CoM: {data.subtree_com[0]}")  # subtree_com[0] is full model CoM\n'})}),"\n",(0,i.jsx)("checkpoint",{children:(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Expected"}),": Model loaded with torso and foot bodies identified, CoM computed."]})}),"\n",(0,i.jsx)(e.h3,{id:"step-2-compute-zero-moment-point",children:"Step 2: Compute Zero Moment Point"}),"\n",(0,i.jsx)(e.p,{children:"Implement ZMP calculation from ground reaction forces:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'def compute_zmp(model, data, foot_body_ids):\n    """\n    Compute Zero Moment Point from contact forces.\n\n    Args:\n        model: MuJoCo model\n        data: MuJoCo data\n        foot_body_ids: List of foot body IDs\n\n    Returns:\n        zmp: [x, y] position of ZMP, or None if not in contact\n    """\n    total_force = np.zeros(3)\n    total_moment = np.zeros(3)\n\n    # Find all contacts with ground\n    for i in range(data.ncon):\n        contact = data.contact[i]\n\n        # Check if contact involves a foot\n        geom1_body = model.geom_bodyid[contact.geom1]\n        geom2_body = model.geom_bodyid[contact.geom2]\n\n        if geom1_body in foot_body_ids or geom2_body in foot_body_ids:\n            # Get contact force\n            force = np.zeros(6)\n            mujoco.mj_contactForce(model, data, i, force)\n\n            # Contact position\n            pos = contact.pos.copy()\n\n            # Accumulate force and moment\n            total_force += force[:3]\n            total_moment += np.cross(pos, force[:3])\n\n    # Compute ZMP\n```python\n```python\n    if abs(total_force[2]) < 1.0:  # Less than 1N vertical\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'        return None  # Not enough contact force\n\n    # ZMP equation: moment_x = force_z * zmp_y - force_y * zmp_z\n    # Assuming z=0 (ground plane):\n    zmp_x = -total_moment[1] / total_force[2]\n    zmp_y = total_moment[0] / total_force[2]\n\n    return np.array([zmp_x, zmp_y])\n\ndef compute_com(model, data):\n    """Compute center of mass position and velocity."""\n    com_pos = data.subtree_com[0].copy()\n\n    # CoM velocity from momentum\n    total_mass = np.sum(model.body_mass)\n    com_vel = data.subtree_linvel[0].copy()\n\n    return com_pos, com_vel\n\n# Test ZMP computation\nfoot_ids = [left_foot_id, right_foot_id]\nzmp = compute_zmp(model, data, foot_ids)\ncom, com_vel = compute_com(model, data)\n\nprint(f"CoM position: {com}")\nprint(f"ZMP position: {zmp}")\n'})}),"\n",(0,i.jsx)("checkpoint",{children:(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Expected"}),": ZMP computed within the support polygon, CoM above the feet."]})}),"\n",(0,i.jsx)(e.h3,{id:"step-3-implement-lipm-controller",children:"Step 3: Implement LIPM Controller"}),"\n",(0,i.jsx)(e.p,{children:"Design a controller based on Linear Inverted Pendulum Model:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'class LIPMBalanceController:\n    """Balance controller using Linear Inverted Pendulum Model."""\n\n    def __init__(self, model, data, com_height=0.9):\n        self.model = model\n        self.data = data\n        self.z_c = com_height  # Constant CoM height assumption\n        self.g = 9.81\n\n        # Compute natural frequency\n        self.omega = np.sqrt(self.g / self.z_c)\n\n        # State feedback gains (from LQR or pole placement)\n        # State: [x - x_ref, x_dot]\n        # Want stable poles at -omega (critically damped)\n        self.k_p = self.omega ** 2  # Position gain\n        self.k_d = 2 * self.omega   # Velocity gain\n\n        # Desired ZMP (ankle torque command)\n        self.zmp_des = np.array([0.0, 0.0])\n\n        # Support polygon limits\n        self.foot_length = 0.2\n        self.foot_width = 0.1\n        self.zmp_limits = {\n            \'x\': [-self.foot_length/2, self.foot_length/2],\n            \'y\': [-self.foot_width/2, self.foot_width/2]\n        }\n\n    def compute_desired_zmp(self, com_pos, com_vel, com_ref=np.array([0, 0])):\n        """\n        Compute desired ZMP to regulate CoM to reference.\n\n        Using LIPM: x_ddot = (g/z_c)(x_com - x_zmp)\n        State feedback: x_zmp_des = x_com + (k_d/omega^2)*x_dot + (k_p/omega^2)*(x - x_ref)\n        """\n        # CoM error\n        com_error_x = com_pos[0] - com_ref[0]\n        com_error_y = com_pos[1] - com_ref[1]\n\n        # Desired ZMP from state feedback\n        zmp_des_x = com_pos[0] + (self.k_d / self.omega**2) * com_vel[0] + \\\n                    (self.k_p / self.omega**2) * com_error_x\n        zmp_des_y = com_pos[1] + (self.k_d / self.omega**2) * com_vel[1] + \\\n                    (self.k_p / self.omega**2) * com_error_y\n\n        # Saturate to support polygon\n        zmp_des_x = np.clip(zmp_des_x, self.zmp_limits[\'x\'][0], self.zmp_limits[\'x\'][1])\n        zmp_des_y = np.clip(zmp_des_y, self.zmp_limits[\'y\'][0], self.zmp_limits[\'y\'][1])\n\n        self.zmp_des = np.array([zmp_des_x, zmp_des_y])\n        return self.zmp_des\n\n    def compute_ankle_torque(self, zmp_des, com_pos):\n        """\n        Compute ankle torques to achieve desired ZMP.\n\n        Simplified: Ankle torque creates moment about CoP/ZMP.\n        tau_ankle = m * g * (x_zmp - x_com) approximately\n        """\n        total_mass = np.sum(self.model.body_mass)\n\n        # Ankle torque (sagittal plane)\n        tau_x = total_mass * self.g * (zmp_des[1] - com_pos[1])  # Roll\n        tau_y = -total_mass * self.g * (zmp_des[0] - com_pos[0])  # Pitch\n\n        return np.array([tau_x, tau_y])\n\n# Create controller\ncontroller = LIPMBalanceController(model, data)\nprint(f"LIPM omega: {controller.omega:.3f} rad/s")\nprint(f"Gains: kp={controller.k_p:.2f}, kd={controller.k_d:.2f}")\n'})}),"\n",(0,i.jsx)("checkpoint",{children:(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Expected"}),": LIPM controller created with computed gains based on pendulum dynamics."]})}),"\n",(0,i.jsx)(e.h3,{id:"step-4-simulate-quiet-standing",children:"Step 4: Simulate Quiet Standing"}),"\n",(0,i.jsx)(e.p,{children:"Run the balance controller and analyze performance:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"def simulate_standing(model, data, controller, duration=5.0, dt=0.002,\n                      perturbation_time=2.0, perturbation_force=50):\n    \"\"\"\n    Simulate quiet standing with optional perturbation.\n\n    Args:\n        model: MuJoCo model\n        data: MuJoCo data\n        controller: LIPMBalanceController\n        duration: Simulation time\n        perturbation_time: When to apply perturbation\n        perturbation_force: Force magnitude (N)\n\n    Returns:\n        history: Dictionary of recorded data\n    \"\"\"\n    history = {\n        'time': [],\n        'com_x': [],\n        'com_y': [],\n        'com_z': [],\n        'zmp_x': [],\n        'zmp_y': [],\n        'zmp_des_x': [],\n        'zmp_des_y': [],\n        'ankle_tau': []\n    }\n\n    foot_ids = [left_foot_id, right_foot_id]\n    steps = int(duration / dt)\n    perturbation_applied = False\n\n    for step in range(steps):\n        t = step * dt\n\n        # Apply perturbation\n```python\n```python\n        if not perturbation_applied and t >= perturbation_time:\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"            # Apply impulse to torso\n            data.xfrc_applied[torso_id, 0] = perturbation_force\n            perturbation_applied = True\n        elif perturbation_applied and t >= perturbation_time + 0.1:\n            # Remove after 0.1s\n            data.xfrc_applied[torso_id, 0] = 0\n\n        # Get state\n        com, com_vel = compute_com(model, data)\n        zmp = compute_zmp(model, data, foot_ids)\n\n        # Compute control\n        zmp_des = controller.compute_desired_zmp(com, com_vel)\n        tau_ankle = controller.compute_ankle_torque(zmp_des, com)\n\n        # Apply control (assuming ankle actuators are first)\n        data.ctrl[0] = tau_ankle[0]  # Roll\n        data.ctrl[1] = tau_ankle[1]  # Pitch\n\n        # Step simulation\n        mujoco.mj_step(model, data)\n\n        # Record\n        history['time'].append(t)\n        history['com_x'].append(com[0])\n        history['com_y'].append(com[1])\n        history['com_z'].append(com[2])\n        if zmp is not None:\n            history['zmp_x'].append(zmp[0])\n            history['zmp_y'].append(zmp[1])\n        else:\n            history['zmp_x'].append(np.nan)\n            history['zmp_y'].append(np.nan)\n        history['zmp_des_x'].append(zmp_des[0])\n        history['zmp_des_y'].append(zmp_des[1])\n        history['ankle_tau'].append(tau_ankle.copy())\n\n    return history\n\n# Reset and run simulation\nmujoco.mj_resetData(model, data)\nmujoco.mj_forward(model, data)\n\nhistory = simulate_standing(model, data, controller,\n                           duration=5.0,\n                           perturbation_time=2.0,\n                           perturbation_force=100)\n\nprint(f\"Simulation complete: {len(history['time'])} steps\")\nprint(f\"CoM X range: [{min(history['com_x']):.4f}, {max(history['com_x']):.4f}]\")\n"})}),"\n",(0,i.jsx)("checkpoint",{children:(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Expected"}),": Standing simulation completes, CoM oscillates after perturbation but returns to equilibrium."]})}),"\n",(0,i.jsx)(e.h3,{id:"step-5-analyze-stability-margins",children:"Step 5: Analyze Stability Margins"}),"\n",(0,i.jsx)(e.p,{children:"Compute and visualize stability metrics:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'def compute_stability_margin(zmp, support_polygon):\n    """\n    Compute distance from ZMP to support polygon boundary.\n\n    Args:\n        zmp: [x, y] ZMP position\n        support_polygon: List of [x, y] vertices (counterclockwise)\n\n    Returns:\n        margin: Minimum distance to boundary (negative if outside)\n    """\n    n = len(support_polygon)\n    min_dist = float(\'inf\')\n\n    for i in range(n):\n        p1 = np.array(support_polygon[i])\n        p2 = np.array(support_polygon[(i + 1) % n])\n\n        # Vector from p1 to p2\n        edge = p2 - p1\n        edge_len = np.linalg.norm(edge)\n        edge_unit = edge / edge_len\n\n        # Vector from p1 to ZMP\n        to_zmp = zmp - p1\n\n        # Project onto edge\n        proj_len = np.dot(to_zmp, edge_unit)\n        proj_len = np.clip(proj_len, 0, edge_len)\n        closest = p1 + proj_len * edge_unit\n\n        # Distance to closest point on edge\n        dist = np.linalg.norm(zmp - closest)\n\n        # Check if inside (using cross product sign)\n        cross = edge[0] * to_zmp[1] - edge[1] * to_zmp[0]\n```python\n```python\n        if cross < 0:\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'            dist = -dist  # Outside on this edge\n\n        min_dist = min(min_dist, dist)\n\n    return min_dist\n\n# Define support polygon (simplified rectangle)\nsupport_polygon = [\n    [-0.1, -0.05],  # Back left\n    [0.1, -0.05],   # Front left\n    [0.1, 0.05],    # Front right\n    [-0.1, 0.05]    # Back right\n]\n\n# Compute stability margins over time\nmargins = []\nfor i in range(len(history[\'zmp_x\'])):\n    zmp = np.array([history[\'zmp_x\'][i], history[\'zmp_y\'][i]])\n    if not np.isnan(zmp[0]):\n        margin = compute_stability_margin(zmp, support_polygon)\n        margins.append(margin)\n    else:\n        margins.append(np.nan)\n\n# Analyze\nvalid_margins = [m for m in margins if not np.isnan(m)]\nprint(f"\\nStability Margin Statistics:")\nprint(f"  Minimum: {min(valid_margins):.4f} m")\nprint(f"  Maximum: {max(valid_margins):.4f} m")\nprint(f"  Mean: {np.mean(valid_margins):.4f} m")\n\n# Check if balance was maintained\n```python\n```python\nif min(valid_margins) > 0:\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'    print("  Status: STABLE (ZMP always within support polygon)")\nelse:\n    print("  Status: UNSTABLE (ZMP exited support polygon)")\n'})}),"\n",(0,i.jsx)("checkpoint",{children:(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Expected"}),": Stability margins computed, system remains stable with positive margins."]})}),"\n",(0,i.jsx)(e.h3,{id:"step-6-capture-point-analysis",children:"Step 6: Capture Point Analysis"}),"\n",(0,i.jsx)(e.p,{children:"Implement capture point for dynamic stability:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'def compute_capture_point(com_pos, com_vel, omega):\n    """\n    Compute capture point (Instantaneous Capture Point).\n\n    The capture point is where the robot needs to step to\n    come to rest.\n\n    CP = CoM + CoM_velocity / omega\n\n    Args:\n        com_pos: [x, y, z] CoM position\n        com_vel: [vx, vy, vz] CoM velocity\n        omega: Natural frequency sqrt(g/z_c)\n\n    Returns:\n        cp: [x, y] Capture point position\n    """\n    cp_x = com_pos[0] + com_vel[0] / omega\n    cp_y = com_pos[1] + com_vel[1] / omega\n    return np.array([cp_x, cp_y])\n\ndef analyze_capture_point(history, controller, support_polygon):\n    """Analyze capture point trajectory."""\n    capture_points = []\n\n    for i in range(len(history[\'time\'])):\n        com = np.array([history[\'com_x\'][i], history[\'com_y\'][i], history[\'com_z\'][i]])\n        # Estimate velocity from finite difference\n```python\n```python\n        if i > 0:\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"            dt = history['time'][i] - history['time'][i-1]\n            com_vel = np.array([\n                (history['com_x'][i] - history['com_x'][i-1]) / dt,\n                (history['com_y'][i] - history['com_y'][i-1]) / dt,\n                0\n            ])\n        else:\n            com_vel = np.zeros(3)\n\n        cp = compute_capture_point(com, com_vel, controller.omega)\n        capture_points.append(cp)\n\n    # Compute capture point margins\n    cp_margins = []\n    for cp in capture_points:\n        margin = compute_stability_margin(cp, support_polygon)\n        cp_margins.append(margin)\n\n    print(f\"\\nCapture Point Analysis:\")\n    print(f\"  Min margin: {min(cp_margins):.4f} m\")\n    print(f\"  Max excursion from center: {max(np.linalg.norm(np.array(capture_points), axis=1)):.4f} m\")\n\n    # Capture point within support = recoverable without stepping\n```python\n```python\n    recoverable_steps = sum(1 for m in cp_margins if m > 0)\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'    print(f"  Recoverable (no step needed): {recoverable_steps}/{len(cp_margins)} steps")\n\n    return capture_points, cp_margins\n\ncp_points, cp_margins = analyze_capture_point(history, controller, support_polygon)\n'})}),"\n",(0,i.jsx)("checkpoint",{children:(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Expected"}),": Capture point analysis complete, showing dynamic stability margin."]})}),"\n",(0,i.jsx)(e.h2,{id:"expected-outcomes",children:"Expected Outcomes"}),"\n",(0,i.jsx)(e.p,{children:"After completing this lab, you should have:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Code artifacts"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"zmp_computation.py"}),": ZMP calculation from contacts"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"lipm_controller.py"}),": Balance controller implementation"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"stability_analysis.py"}),": Margin and capture point analysis"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Understanding"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Relationship between CoM, ZMP, and balance"}),"\n",(0,i.jsx)(e.li,{children:"LIPM approximation and its limitations"}),"\n",(0,i.jsx)(e.li,{children:"Stability margins for standing balance"}),"\n",(0,i.jsx)(e.li,{children:"Capture point concept for dynamic stability"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Experimental results"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Response to perturbation"}),"\n",(0,i.jsx)(e.li,{children:"Stability margin time series"}),"\n",(0,i.jsx)(e.li,{children:"Capture point trajectories"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"rubric",children:"Rubric"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"Criterion"}),(0,i.jsx)(e.th,{children:"Points"}),(0,i.jsx)(e.th,{children:"Description"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"ZMP Computation"}),(0,i.jsx)(e.td,{children:"20"}),(0,i.jsx)(e.td,{children:"Correct ZMP from contact forces"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"LIPM Controller"}),(0,i.jsx)(e.td,{children:"25"}),(0,i.jsx)(e.td,{children:"Working balance control with proper gains"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Perturbation Response"}),(0,i.jsx)(e.td,{children:"20"}),(0,i.jsx)(e.td,{children:"Recovery from push perturbation"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Stability Analysis"}),(0,i.jsx)(e.td,{children:"20"}),(0,i.jsx)(e.td,{children:"Margin and capture point computation"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Documentation"}),(0,i.jsx)(e.td,{children:"15"}),(0,i.jsx)(e.td,{children:"Clear code and analysis"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Total"})}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"100"})}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsx)(e.h2,{id:"common-errors",children:"Common Errors"}),"\n",(0,i.jsxs)("troubleshooting",{children:[(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Error"}),": ZMP computation returns None\n",(0,i.jsx)(e.strong,{children:"Solution"}),": Check contact detection, ensure feet are on ground."]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Error"}),": System falls over after perturbation\n",(0,i.jsx)(e.strong,{children:"Solution"}),": Increase controller gains, check actuator limits."]}),(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Error"}),": Oscillations don't dampen\n",(0,i.jsx)(e.strong,{children:"Solution"}),": Increase damping gain kd, check for sensor noise."]})]}),"\n",(0,i.jsx)(e.h2,{id:"extensions",children:"Extensions"}),"\n",(0,i.jsx)(e.p,{children:"For advanced students:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"3D Balance"}),": Extend to sagittal + frontal plane coupling"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Model Predictive Control"}),": MPC-based balance with preview"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Compliant Standing"}),": Add ankle compliance for rougher terrain"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Sensory Integration"}),": Add vestibular-like sensing for tilt"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"related-content",children:"Related Content"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Theory"}),": Module 08 theory.md, Section 8.1 (Balance Fundamentals)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Next Lab"}),": Lab 08-02 (Walking Gait Generation)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Application"}),": Humanoid standing, exoskeleton balance"]}),"\n"]})]})}function d(s={}){const{wrapper:e}={...(0,a.R)(),...s.components};return e?(0,i.jsx)(e,{...s,children:(0,i.jsx)(o,{...s})}):o(s)}},8453(s,e,n){n.d(e,{R:()=>l,x:()=>r});var t=n(6540);const i={},a=t.createContext(i);function l(s){const e=t.useContext(a);return t.useMemo(function(){return"function"==typeof s?s(e):{...e,...s}},[e,s])}function r(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(i):s.components||i:l(s.components),t.createElement(a.Provider,{value:e},s.children)}}}]);